"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.executeSpacelessNodeSynchronously = exports.executeSpacelessNode = void 0;
const executeSpacelessNode = (node, executionContext) => {
    const { outputBuffer } = executionContext;
    const { nodeExecutor: execute } = executionContext;
    outputBuffer.start();
    return execute(node.children.body, executionContext)
        .then(() => {
        const content = outputBuffer.getAndClean().replace(/>\s+</g, '><').trim();
        outputBuffer.echo(content);
    });
};
exports.executeSpacelessNode = executeSpacelessNode;
const executeSpacelessNodeSynchronously = (node, executionContext) => {
    const { outputBuffer } = executionContext;
    const { nodeExecutor: execute } = executionContext;
    outputBuffer.start();
    execute(node.children.body, executionContext);
    const content = outputBuffer.getAndClean().replace(/>\s+</g, '><').trim();
    outputBuffer.echo(content);
};
exports.executeSpacelessNodeSynchronously = executeSpacelessNodeSynchronously;

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.filterSynchronously = exports.filter = void 0;
const iterator_to_map_1 = require("../../../helpers/iterator-to-map");
const filter = async (_executionContext, map, callback) => {
    const result = new Map();
    map = (0, iterator_to_map_1.iteratorToMap)(map);
    for (const [key, value] of map) {
        if (await callback(value)) {
            result.set(key, value);
        }
    }
    return Promise.resolve(result);
};
exports.filter = filter;
const filterSynchronously = (_executionContext, map, callback) => {
    const result = new Map();
    map = (0, iterator_to_map_1.iteratorToMap)(map);
    for (const [key, value] of map) {
        if (callback(value)) {
            result.set(key, value);
        }
    }
    return result;
};
exports.filterSynchronously = filterSynchronously;
